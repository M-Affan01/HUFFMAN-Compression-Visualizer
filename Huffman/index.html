<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
  <title>HUFFMAN ¬∑ 4K QUANTUM COMPRESSION LAB ¬∑ RESPONSIVE</title>
  <!-- Font Awesome 6 (premium icons) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Font: Inter + JetBrains Mono + Orbitron for future vibes -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&family=Orbitron:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="dimension-container">
    <!--  HYPER HEADER -->
    <div class="crystal-card" style="margin-bottom: 30px;">
      <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
        <div class="quantum-header">
          <i class="fas fa-bolt" style="font-size: clamp(2rem, 5vw, 2.8rem); color: #aadcff; filter: drop-shadow(0 0 12px #0077ff);"></i>
          <h1>HUFFMAN¬∑X</h1>
          <span class="hologram-badge"><i class="fas fa-atom"></i> QUANTUM DSA</span>
        </div>
        <div style="display: flex; gap: 16px; flex-wrap: wrap;">
          <span style="background: #102433; padding: 0.6rem 1.6rem; border-radius: 40px; border:1px solid #4e86b0;">
            <i class="fas fa-chart-line"></i> GREEDY ¬∑ O(n log n)
          </span>
        </div>
      </div>
    </div>

    <!--  SECTION 1 ‚Äì TEXT INPUT + PREMIUM TOGGLE -->
    <div class="crystal-card slide-quantum" style="margin-bottom: 30px;">
      <div style="display: flex; gap: 16px; align-items: center; margin-bottom: 20px; flex-wrap: wrap;">
        <i class="fas fa-cube" style="font-size: 1.8rem; color: #7ac4ff;"></i>
        <h3 style="font-weight: 650; font-size: clamp(1.3rem, 3vw, 1.7rem); letter-spacing: -0.5px;">source dimension</h3>
      </div>

      <textarea id="inputText" class="dimensional-input" rows="3">neo morpheus neo trinity neo morpheus tank morpheus neo</textarea>

      <div style="display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; margin-top: 24px; gap: 20px;">
        <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
          <div class="toggle-nebula">
            <button id="modeChar" class="toggle-neo active"><i class="fas fa-i-cursor"></i> Character</button>
            <button id="modeWord" class="toggle-neo"><i class="fas fa-file-lines"></i> Word</button>
          </div>
          <button id="processBtn" class="quantum-btn btn-prime"><i class="fas fa-microchip"></i> COMPILE</button>
          <button id="clearBtn" class="quantum-btn"><i class="fas fa-broom"></i> PURGE</button>
        </div>
        <div style="background: #0b1a2b; padding: 0.7rem 1.8rem; border-radius: 60px;">
          <i class="fas fa-char"></i> <span id="charWordCounter" style="font-weight: 600;">chars: 0 | words: 0</span>
        </div>
      </div>
    </div>

    <!-- ========== QUANTUM GRID: FREQ + TREE ========= -->
    <div class="responsive-two-col" style="margin-bottom: 30px;">
      <!--  HOLOGRAPHIC FREQUENCY + BAR CHART + BIT DETAILS -->
      <div class="crystal-card" style="padding: clamp(1.2rem, 2.5vw, 1.8rem);">
        <div style="display: flex; align-items: center; gap: 16px; margin-bottom: 16px; flex-wrap: wrap;">
          <i class="fas fa-chart-simple" style="color: #70d0ff; font-size: 1.8rem;"></i>
          <h3 style="font-weight: 700;">frequency spectrum</h3>
          <span id="uniqueCount" style="background: #003259; padding: 0.3rem 1.2rem; border-radius: 60px;">unique: 0</span>
        </div>
        <!-- FREQ TABLE -->
        <div id="freqTableContainer" class="hologram-scroll" style="margin-bottom: 20px;">
          <div style="padding: 1.5rem; text-align: center; color: #87b9e5;">üåÄ awaiting corpus...</div>
        </div>
        <!-- BAR CANVAS -->
        <div class="canvas-nebula" style="padding: 0.8rem;">
          <canvas id="freqBarCanvas" width="550" height="160" style="width:100%; height:auto; max-height:160px;"></canvas>
        </div>
        
        <!-- BIT ANALYSIS PER SYMBOL (LIVE) -->
        <div style="margin-top: 24px; background: #0b1a2e; border-radius: 28px; padding: 1.2rem;">
          <div style="display: flex; gap: 12px; align-items: center; margin-bottom: 14px; flex-wrap: wrap;">
            <i class="fas fa-binary"></i>
            <span style="font-weight: 700;">üî¢ BIT COST ANALYSIS</span>
          </div>
          <div id="bitAnalysisContainer" style="max-height: 150px; overflow-y: auto; font-family: 'JetBrains Mono'; font-size: 0.85rem;">
            <!-- dynamic bit analysis rows -->
          </div>
        </div>
      </div>

      <!--  TREE VISUALIZER + STEP CONTROLS ‚Äî VIBRANT COLORS + BIG FREQ NUMBERS -->
      <div class="crystal-card" style="padding: clamp(1.2rem, 2.5vw, 1.8rem);">
        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;">
          <div style="display: flex; gap: 14px;">
            <i class="fas fa-diagram-project" style="color: #80f0ff; font-size: 1.8rem;"></i>
            <h3 style="font-weight: 700;">huffman tree¬∑nexus</h3>
          </div>
          <!-- CRYO STEP POD -->
          <div class="cryo-pod">
            <button id="resetStepBtn" class="quantum-btn" style="padding: 0.5rem 1.2rem;"><i class="fas fa-rotate-left"></i></button>
            <button id="prevStepBtn" class="quantum-btn" style="padding: 0.5rem 1.2rem;"><i class="fas fa-backward-step"></i></button>
            <span id="stepIndicator" class="step-orb">0/0</span>
            <button id="nextStepBtn" class="quantum-btn" style="padding: 0.5rem 1.2rem;"><i class="fas fa-forward-step"></i></button>
            <button id="playPauseBtn" class="quantum-btn" style="padding: 0.5rem 1.5rem;"><i class="fas fa-play"></i> PLAY</button>
          </div>
        </div>
        <!-- TREE CANVAS ‚Äî VIBRANT NODE COLORS + BIG FREQUENCY DISPLAY -->
        <div class="canvas-nebula" style="padding: 1rem; background: #0a1222;">
          <canvas id="treeCanvas" width="800" height="380" style="width:100%; height:auto; border-radius: 20px; box-shadow: 0 0 30px #002244;"></canvas>
        </div>
        <div style="display: flex; justify-content: space-between; margin-top: 12px; flex-wrap: wrap; gap: 10px;">
          <span id="treeStateMsg" style="background: #152d42; padding: 0.4rem 1.8rem; border-radius: 30px; font-weight: 600;"><i class="fas fa-info-circle"></i> ready</span>
          <span id="mergeCountBadge" style="background: #1e3a5a; padding: 0.4rem 1.8rem; border-radius: 30px; font-weight: 600;">merges: 0</span>
        </div>
      </div>
    </div>

    <!-- BIT-LEVEL COMPRESSION MATRIX (REAL TIME) -->
    <div class="crystal-card" style="margin-bottom: 30px;">
      <div style="display: flex; gap: 20px; align-items: center; flex-wrap: wrap;">
        <i class="fas fa-chart-pie" style="font-size: 2rem; color: #6fd4ff;"></i>
        <h3 style="font-weight: 650; font-size: clamp(1.1rem, 2.5vw, 1.5rem);">üìâ QUANTUM COMPRESSION METRICS ¬∑ every bit visualized</h3>
      </div>
      <div class="bit-matrix">
        <div class="bit-cell">
          <i class="fas fa-weight-scale"></i> original bits
          <div id="originalBits" class="bit-value">0</div>
        </div>
        <div class="bit-cell">
          <i class="fas fa-file-zipper"></i> huffman bits
          <div id="compressedBits" class="bit-value">0</div>
        </div>
        <div class="bit-cell">
          <i class="fas fa-arrow-trend-down"></i> saved bits
          <div id="savedBits" class="bit-value">0</div>
        </div>
        <div class="bit-cell">
          <i class="fas fa-percent"></i> compression ratio
          <div id="compressionRatio" class="bit-value">0%</div>
        </div>
      </div>
      <!-- detailed per-symbol bit breakdown -->
      <div id="detailedBitBreakdown" style="margin-top: 18px; background: #0e1c2c; border-radius: 34px; padding: 1.2rem; font-size: 0.95rem; font-family: 'JetBrains Mono';">
        ‚ö° hover on frequency rows to see bit savings
      </div>
    </div>

    <!--  ENCODER QUANTUM + BINARY OUT -->
    <div class="encoder-quantum">
      <div style="display: flex; gap: 22px; align-items: center; margin-bottom: 22px; flex-wrap: wrap;">
        <i class="fas fa-shield-hal-9000" style="font-size: 2.2rem; color: #b3e4ff;"></i>
        <h3 style="font-weight: 700; font-size: clamp(1.1rem, 2.5vw, 1.5rem);">üîê BINARY ENCODER ¬∑ realtime huffman cipher</h3>
      </div>
      <div style="display: flex; gap: 18px; flex-wrap: wrap;">
        <input type="text" id="encodeInput" placeholder="type symbol (word/char)" style="flex: 4; min-width: 200px; background: #0a1426; border: 2px solid #3e72a0; border-radius: 70px; padding: 1rem 2rem; color: white; font-size: clamp(0.9rem, 2vw, 1.2rem); font-family: 'JetBrains Mono';">
        <button id="encodeBtn" class="quantum-btn btn-prime" style="flex: 0.8; min-width: 120px;"><i class="fas fa-crown"></i> ENCODE</button>
        <button id="copyBtn" class="quantum-btn" style="flex: 0.5; min-width: 80px;"><i class="fas fa-copy"></i></button>
      </div>
      <div id="binaryOutput" class="binary-stream" style="margin-top: 22px;">
        ‚ö° _ binary code appears here _
      </div>
    </div>
  </div>
    <script src="script.js"></script>
</body>
</html>



